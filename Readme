# ğŸ¢ Sistema de Gerenciamento de Ambientes de Trabalho  
### Monitoramento de PresenÃ§a com Sensor PIR + IntegraÃ§Ã£o FIWARE  
**Autores:**  
- Ronaldo Aparecido Monteiro Almeida  
- Lucas Rowlands Abat  
- Henrique Infanti Coratolo  

---

## ğŸ“Œ DescriÃ§Ã£o do Projeto

Este projeto implementa um **sistema inteligente de gerenciamento de ambientes de trabalho**, utilizando:

- **Sensor PIR** para detectar presenÃ§a humana  
- **Controle automÃ¡tico de luminosidade (LED / lÃ¢mpada virtual)**  
- **Arduino/ESP32 no Wokwi**  
- **FIWARE Orion Context Broker + IoT Agent + STH-Comet**  
- **Dashboard Python** (futuramente) para anÃ¡lise dos dados  

O objetivo Ã© **monitorar a ocupaÃ§Ã£o de ambientes** e **registrar eventos histÃ³ricos** para otimizar o gerenciamento de salas, energia e fluxo de pessoas.

---

## ğŸŒ SimulaÃ§Ã£o Online (Wokwi)

O firmware do microcontrolador estÃ¡ disponÃ­vel no Wokwi:

ğŸ”— **https://wokwi.com/projects/447872594652982273**

Ao abrir, o Wokwi mostra:

- Sensor **PIR**  
- LED indicando o estado da **luminosidade**  
- CÃ³digos de integraÃ§Ã£o MQTT/HTTP para FIWARE  
- Loop enviando dados de presenÃ§a a cada detecÃ§Ã£o

---

## ğŸ¯ Objetivo do Sistema

Este sistema permite:

- Detectar automaticamente quando um ambiente estÃ¡ ocupado.  
- Ligar/desligar a iluminaÃ§Ã£o conforme movimento.  
- Enviar dados de presenÃ§a ao **FIWARE**.  
- Armazenar histÃ³rico no **STH-Comet** para anÃ¡lise posterior.  
- Servir como base para dashboards e sistemas de automaÃ§Ã£o prÃ©dios inteligentes.

Isso possibilita aplicaÃ§Ãµes como:

- Monitoramento de ocupaÃ§Ã£o em escritÃ³rios  
- Economia de energia com iluminaÃ§Ã£o automÃ¡tica  
- EstatÃ­sticas de fluxo de pessoas  
- Dashboards corporativos de produtividade e uso do espaÃ§o  

---

## ğŸ§© Arquitetura da SoluÃ§Ã£o

### ğŸŸ¦ 1. **Dispositivo (Wokwi + Arduino/ESP32)**
- LÃª o sensor PIR  
- Liga/desliga a luz (LED)  
- Envia dados via JSON ao IoT Agent FIWARE  

### ğŸŸ© 2. **FIWARE IoT Agent**
- Recebe os dados do dispositivo  
- Converte para entidades NGSI-LD  
- Envia ao **Orion Context Broker**

### ğŸŸ§ 3. **FIWARE Orion Context Broker**
- MantÃ©m o estado atual do ambiente  
- Notifica mudanÃ§as para o STH-Comet

### ğŸŸª 4. **FIWARE STH-Comet**
- Armazena o histÃ³rico de presenÃ§a  
- Gera dados para dashboard/anÃ¡lise

### ğŸŸ¨ 5. **Dashboard Python (futuro)**
- GrÃ¡ficos em tempo real  
- EstatÃ­sticas de ocupaÃ§Ã£o  
- VisualizaÃ§Ã£o da eficiÃªncia energÃ©tica  

---

## âš™ï¸ Fluxo de Funcionamento

1. O sensor **detecta movimento**  
2. O microcontrolador **liga a luz** (LED)  
3. Os dados sÃ£o enviados ao **IoT Agent**  
4. O IoT Agent atualiza o **Orion Context Broker**  
5. O Orion envia notificaÃ§Ãµes ao **STH-Comet**  
6. O STH armazena o histÃ³rico para uso no dashboard

---

## ğŸ›  Tecnologias Utilizadas

- **Arduino / ESP32** (simulado no Wokwi)  
- **Sensor PIR**  
- **FIWARE Orion**  
- **FIWARE IoT Agent (UL)**  
- **FIWARE STH-Comet**  
- **MongoDB**  
- **Docker e Docker Compose**  
- Python (para dashboard futuro)

---

## ğŸ“„ LicenÃ§a
Este projeto Ã© de uso acadÃªmico.
